(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=a(21),i=a(92),s=(a(106),a(39)),m=a(87),u=a.n(m),d=a(88),p=a(63),f=a(24),h=a(56),g=a.n(h),b=function(){var e=localStorage.getItem("token");return g.a.create({baseURL:"https://best-professor.herokuapp.com/",headers:{Authorization:e}})},E={reminders:[],isRemindersLoading:!1,error:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REMINDERS_START":return Object(f.a)({},e,{isRemindersLoading:!0,error:""});case"FETCH_REMINDERS_SUCCESS":return Object(f.a)({},e,{isRemindersLoading:!1,reminders:t.payload});case"FETCH_REMINDERS_FAILURE":return Object(f.a)({},e,{isRemindersLoading:!1,error:"Yikes, the API is down."});case"ADD_REMINDERS":return Object(f.a)({},e,{isRemindersLoading:!1,reminders:[t.payload].concat(Object(p.a)(e.reminders))});case"DELETE_REMINDERS":return Object(f.a)({},e,{reminders:e.reminders.filter((function(e){return e.id!==t.payload}))});default:return e}},N=Object(s.c)({reminderReducer:v}),x=[u.a,d.a],j=Object(s.d)(N,s.a.apply(void 0,x)),y=a(15),S=a(168),O=a(93),w=function(e){var t=e.component,a=Object(O.a)(e,["component"]);return r.a.createElement(y.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?(console.log(t),r.a.createElement(t,e)):r.a.createElement(y.a,{to:"/login"})}}))},R=a(17),C=a(182),D=a(181),k=Object(S.a)({root:{marginBottom:"20px"}}),_=function(e){var t=k(),a=e.inputData,o=a.label,c=a.name,l=a.autoFocus,i=a.type,s=a.helperText,m=e.updateCredentials,u=Object(n.useState)(""),d=Object(R.a)(u,2),p=d[0],f=d[1],h=Object(n.useState)(!1),g=Object(R.a)(h,2),b=g[0],E=g[1],v=function(e){if(""===e)return!1;switch(i){case"string":return e.match("^[a-zA-Z]+$");case"email":return e.match("^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$");case"password":return e.length>4;default:return!0}};return r.a.createElement(D.a,{className:t.root,variant:"outlined",required:!0,label:o,autoFocus:l,type:i,value:p,error:b,helperText:b?s:"",onChange:function(e){f(e.target.value),m(c,e.target.value)},onBlur:function(e){var t=v(e.target.value);t&&b?E(!1):t||b||E(!0)}})},I=Object(S.a)({root:{margin:"100px auto 20px",display:"flex",flexDirection:"column",width:"320px",padding:"20px",border:"1px solid #CBCBCB",borderRadius:"5px"},button:{margin:"0 auto",width:"110px"},label:{position:"fixed",color:"#CBCBCB",fontSize:"12px",padding:"0 5px",backgroundColor:"#FFF",transform:"translate(-160px, 71px)"}}),F=function(e){var t=I(),a=Object(y.f)(),o=e.inputData,c=e.buttonData,l=e.formData,i=l.formName,s=l.path,m=l.historyPath,u=c.text,d=c.variant,p=c.color,h=Object(n.useState)({}),g=Object(R.a)(h,2),E=g[0],v=g[1],N=function(e,t){var a=Object(f.a)({},E);a[e]=t,v(a)};return r.a.createElement(n.Fragment,null,r.a.createElement("span",{className:t.label},i),r.a.createElement("form",{className:t.root,onSubmit:function(e){e.preventDefault(),b().post(s,E).then((function(e){localStorage.setItem("token",e.data.token),e.data.id&&localStorage.setItem("professor_id",e.data.id),a.push(m),console.log(e)})).catch((function(e){return console.log(e.message)}))}},o.map((function(e){return r.a.createElement(_,{inputData:e,key:e.label,updateCredentials:N})})),r.a.createElement(C.a,{className:t.button,variant:d,color:p,type:"submit"},u)))},T=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(F,{formData:{formName:"Login",path:"/api/auth/login",historyPath:"/students"},inputData:[{label:"Email",name:"email",autoFocus:!0,type:"email",helperText:"Must be a valid email address"},{label:"Password",name:"password",autoFocus:!1,type:"password",helperText:"Must be at least 6 characters"}],buttonData:{text:"Login",variant:"contained",color:"primary"}}),r.a.createElement(l.b,{to:"/register"},"Create an account"))},A=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(F,{formData:{formName:"Register",path:"/api/auth/register",historyPath:"/login"},inputData:[{label:"First Name",name:"firstName",autoFocus:!0,type:"string",helperText:"May only contain characters A-Z"},{label:"Last Name",name:"lastName",autoFocus:!1,type:"string",helperText:"May only contain characters A-Z"},{label:"Email",name:"email",autoFocus:!1,type:"email",helperText:"Must be a valid email address"},{label:"Password",name:"password",autoFocus:!1,type:"password",helperText:"Must be at least 6 characters"}],buttonData:{text:"Register",variant:"contained",color:"primary"}}),r.a.createElement(l.b,{to:"/login"},"Already have an account?"))},M=a(59),B=a(60),L=a(62),P=a(64),q=a(7),z=Object(S.a)({root:{display:"flex",flexDirection:"row",justifyContent:"center",width:"18rempx",margin:"0 auto"},input:{marginBottom:"10px"},button:{text:"Add Student",varient:"contained",color:"primary",width:"7rem"}}),U=function(e){var t=z(),a=Object(n.useState)(""),o=Object(R.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(""),s=Object(R.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(""),p=Object(R.a)(d,2),f=p[0],h=p[1];return r.a.createElement("div",{className:"add-student"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log(localStorage.getItem("professor_id")),b().post("/api/students/",{firstName:c,lastName:m,email:f,professor_Id:parseInt(localStorage.getItem("professor_id"))}).then(e.update()).catch((function(e){return console.log(e)})),l(""),u(""),h("")},className:"add-container ".concat(t.root)},r.a.createElement("input",{type:"text",name:"firstName",value:c,onChange:function(e){l(e.target.value)},placeholder:"First Name",className:"add-input ".concat(t.input)}),r.a.createElement("input",{type:"text",name:"lastName",value:m,onChange:function(e){u(e.target.value)},placeholder:"Last Name",className:"add-input ".concat(t.input)}),r.a.createElement("input",{type:"text",name:"email",value:f,onChange:function(e){h(e.target.value)},placeholder:"Email",className:"add-input ".concat(t.input)}),r.a.createElement("button",{className:"add-button"},"Add Student")))},Z=Object(S.a)({root:{display:"flex",justifyContent:"space-around",maxWidth:"600px",margin:"0 auto"},link:{textDecoration:"none",color:"black"}});var W=function(){var e=Z();return r.a.createElement("header",{className:"header ".concat(e.root)},r.a.createElement(l.b,{className:e.link,to:"/students"},"Students List"),r.a.createElement(l.b,{className:e.link,to:"/reminders"},"Reminder"),r.a.createElement(l.b,{className:e.link,to:"/form"},"Reviews"),r.a.createElement(l.b,{className:e.link,to:"/",onClick:function(){localStorage.clear()}},"Sign out"))},H=function(e){Object(P.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(M.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={students:[],firstName:"",lastName:"",email:"",id:localStorage.getItem("professor_id"),edit:!1,count:null},e.updateStudents=function(){e.setState((function(e){return{count:e.count+1}}))},e.removeStudent=function(t){b().delete("/api/students/".concat(t)).then(e.updateStudents((function(e){return{count:e.count-1}}))).catch((function(e){return console.log(e)}))},e}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("hello"),console.log(this.state.students),b().get("/api/users/".concat(this.state.id)).then((function(t){console.log(t.data),e.setState({students:t.data.students,count:t.data.students.length})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(this.state.count!==t.count){var n=localStorage.getItem("professor_id");b().get("/api/users/".concat(n)).then((function(e){console.log(e.data),a.setState({students:e.data.students,count:e.data.students.length})})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement("h1",{className:"student-title"},"Students List"),r.a.createElement(U,{update:this.updateStudents}),r.a.createElement("br",null),r.a.createElement("div",{className:"students ".concat(t.root)},this.state.students.map((function(a){return r.a.createElement("div",{key:a.id,className:"student ".concat(t.student)},r.a.createElement("div",{className:"student-info"},r.a.createElement("h2",{className:"info"},a.firstName," ",a.lastName),r.a.createElement("p",{className:"info"},"Email: ",a.email),r.a.createElement("button",{onClick:function(){return e.removeStudent(a.id)}},"Delete Student")))}))))}}]),a}(r.a.Component),J=Object(q.a)({root:{width:"42rem",margin:"0 auto",display:"flex",flexDirection:"row",flexWrap:"wrap"},student:{border:"1px solid black",borderRadius:"5px",backgroundColor:"#fafafa",width:"18rem",paddingBottom:"20px",margin:"0 auto 20px"},button:{margin:"0 auto",width:"8rem",varient:"conatined",color:"primary"}})(H),Y=Object(S.a)({root:{display:"flex",flexDirection:"column",width:"18rem",justifyContent:"center",margin:"0 auto"},input:{marginBottom:"10px"}}),$=function(e){var t=Y(),a=Object(n.useState)(""),o=Object(R.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(""),s=Object(R.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(""),p=Object(R.a)(d,2),f=p[0],h=p[1];return r.a.createElement("div",{className:"add-reminder"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log(localStorage.getItem("professor_id")),b().post("/api/reminders/",{name:c,description:m,send_date:f,professor_Id:parseInt(localStorage.getItem("professor_id"))}).then(e.update()).catch((function(e){return console.log(e)})),l(""),u(""),h("")},className:"add-container ".concat(t.root)},r.a.createElement("input",{type:"text",name:"name",value:c,onChange:function(e){l(e.target.value)},placeholder:"Student Name",className:"add-input ".concat(t.input)}),r.a.createElement("input",{type:"text",name:"send_date",value:f,onChange:function(e){h(e.target.value)},placeholder:"Reminder Date",className:"add-input ".concat(t.input)}),r.a.createElement("input",{type:"text",name:"description",value:m,onChange:function(e){u(e.target.value)},placeholder:"Reminder Text",className:"add-input ".concat(t.input)}),r.a.createElement("button",{className:"add-button"},"Add Reminder")))},V=Object(S.a)({root:{display:"flex",flexDirection:"column",width:"18rem",justifyContent:"center",margin:"0 auto"},input:{marginBottom:"10px"}}),G=function(e){var t=V(),a=Object(n.useState)(e.name),o=Object(R.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(e.description),s=Object(R.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(e.send_date),p=Object(R.a)(d,2),f=p[0],h=p[1];return r.a.createElement("div",{className:"edit-reminder"},r.a.createElement("h3",{className:"edit-title"},"Edit Reminder"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),b().put("/api/reminders/".concat(e.id),{name:c,description:m,send_date:f,professor_Id:parseInt(localStorage.getItem("professor_id"))}).then(e.update(),e.cancelEdit()).catch((function(e){return console.log(e)}))},className:"edit-container ".concat(t.root)},r.a.createElement("input",{type:"text",name:"name",value:c,onChange:function(e){l(e.target.value)},className:"edit-input ".concat(t.input)}),r.a.createElement("input",{type:"text",name:"send_date",value:f,onChange:function(e){h(e.target.value)},className:"edit-input ".concat(t.input)}),r.a.createElement("input",{type:"textarea",name:"description",value:m,onChange:function(e){u(e.target.value)},className:"edit-input ".concat(t.input)}),r.a.createElement("button",{className:"edit-button"},"Add Reminder")))},K=function(e){Object(P.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(M.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={reminders:[],name:"",description:"",send_date:"",id:localStorage.getItem("professor_id"),edit:!1,count:null},e.updateReminders=function(){e.setState((function(e){return{count:e.count+1}}))},e.removeReminder=function(t){b().delete("/api/reminders/".concat(t)).then(e.updateReminders((function(e){return{count:e.count-1}}))).catch((function(e){return console.log(e)}))},e.editReminder=function(t,a,n,r){e.setState({name:t}),e.setState({description:a}),e.setState({send_date:n}),e.setState({id:r}),e.setState({edit:!0})},e.cancelEdit=function(){e.setState({edit:!1})},e}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("hello"),console.log(this.state.reminders),b().get("/api/users/".concat(this.state.id)).then((function(t){console.log(t.data),e.setState({reminders:t.data.reminders,count:t.data.reminders.length})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(this.state.count!==t.count){var n=localStorage.getItem("professor_id");b().get("/api/users/".concat(n)).then((function(e){console.log(e.data),a.setState({reminders:e.data.reminders,count:e.data.reminders.length})})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement("h1",{className:"reminder-title"},"My Reminders"),!0===this.state.edit?r.a.createElement(G,{name:this.state.name,description:this.state.description,send_date:this.state.send_date,id:this.state.id,update:this.updateReminders,cancelEdit:this.cancelEdit}):r.a.createElement($,{update:this.updateReminders}),r.a.createElement("br",null),r.a.createElement("div",{className:"reminders ".concat(t.root)},this.state.reminders.map((function(a){return r.a.createElement("div",{key:a.id,className:"reminder ".concat(t.reminder)},r.a.createElement("div",{className:"reminder-info"},r.a.createElement("h3",{className:"info"},a.name),r.a.createElement("p",{className:"info"},"Reminder Date: ",a.send_date),r.a.createElement("p",{className:"info"}," ","Reminder : ",r.a.createElement("em",null,a.description)),r.a.createElement("button",{onClick:function(){return e.editReminder(a.name,a.description,a.send_date,a.id)}},"Edit"),r.a.createElement("button",{onClick:function(){return e.removeReminder(a.id)}},"Delete")))}))))}}]),a}(r.a.Component),Q=Object(q.a)({root:{width:"43rem",margin:"0 auto",display:"flex",flexDirection:"row",flexWrap:"wrap"},reminder:{border:"1px solid black",borderRadius:"5px",backgroundColor:"#fafafa",width:"18rem",paddingBottom:"20px",margin:"0 auto 20px"}})(K),X=a(47),ee=a(42),te=a(183),ae=a(172),ne=a(173),re=a(174),oe=a(175),ce=a(176),le=a(177),ie=a(178),se=a(179),me=a(180),ue=ee.b().shape({name:ee.d().required("Name is required"),email:ee.d().email("Must be a valid email address").required("Must include email address"),password:ee.d().required("Must include password"),terms:ee.a().oneOf([!0],"Please agree to terms of use")});function de(){var e=Object(n.useState)([]),t=Object(R.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)({id:Date.now(),name:"",email:"",password:"",terms:!1}),i=Object(R.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)({id:Date.now(),name:"",email:"",password:"",terms:""}),d=Object(R.a)(u,2),h=d[0],b=d[1],E=function(e){e.persist(),function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;ee.c(ue,e.target.name).validate(t).then((function(t){b(Object(f.a)({},h,Object(X.a)({},e.target.name,"")))})).catch((function(t){b(Object(f.a)({},h,Object(X.a)({},e.target.name,t.errors[0])))}))}(e);var t="checkbox"===e.target.type?e.target.checked:e.target.value;m(Object(f.a)({},s,Object(X.a)({},e.target.name,t)))};return console.log(a),r.a.createElement("div",{id:"formContainer"},r.a.createElement(W,null),r.a.createElement("br",null),a.map((function(e){return r.a.createElement("div",null,r.a.createElement(te.a,{color:"info"},r.a.createElement("h2",null,"Review Posted")),r.a.createElement("div",{id:"onboardedUsers"},r.a.createElement(ae.a,{className:"ReviewCard"},r.a.createElement(ne.a,{className:"ReviewCardBody"},r.a.createElement(re.a,null,"Name: ",e.name),r.a.createElement(oe.a,null,"Email: ",e.email),r.a.createElement(ce.a,null,"Review: ",e.password),r.a.createElement(le.a,{color:"alert"},r.a.createElement(l.b,{to:"/students"},"Click to View Your Due Projects"))))),r.a.createElement("br",null))})),r.a.createElement(ie.a,{onSubmit:function(e){e.preventDefault(),console.log("form submitted!"),g.a.post("https://reqres.in/api/users",s).then((function(e){return o([].concat(Object(p.a)(a),[s]))})).catch((function(e){return console.log(e)})),m({name:"",email:"",password:"",terms:!1})}},r.a.createElement(se.a,{htmlFor:"name"},r.a.createElement("span",{className:"fieldTitle"},"Name:"),r.a.createElement(me.a,{className:"TimFormInput",id:"name",type:"text",name:"name",placeholder:"Please enter name",value:s.name,onChange:E}),h.name.length>0?r.a.createElement("p",{className:"error"},h.name):null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(se.a,{htmlFor:"email"},r.a.createElement("span",{className:"fieldTitle"},"Email:"),r.a.createElement(me.a,{className:"TimFormInput",id:"email",type:"text",name:"email",placeholder:"Please enter email",value:s.email,onChange:E}),h.email.length>0?r.a.createElement("p",{className:"error"},h.email):null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(se.a,{htmlFor:"password"},r.a.createElement("span",{className:"fieldTitle"},"Review:"),r.a.createElement(me.a,{className:"TimFormInput",id:"password",type:"textarea",name:"password",placeholder:"Please write your review here...",value:s.password,onChange:E}),h.password.length>0?r.a.createElement("p",{className:"error"},h.password):null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(se.a,{htmlFor:"terms"},r.a.createElement("span",{className:"fieldTitle"},"Terms of Service:"),r.a.createElement("br",null),r.a.createElement(me.a,{id:"terms",type:"checkbox",name:"terms",checked:s.terms,onChange:E}),r.a.createElement("br",null),h.terms.length>0?r.a.createElement("p",{className:"error"},h.terms):null),r.a.createElement("br",null),r.a.createElement(le.a,{type:"submit"},"Submit:")),console.log(s))}var pe=Object(S.a)({root:{margin:"0 auto",textAlign:"center"}});var fe=function(){var e=pe();return r.a.createElement("div",{className:"App ".concat(e.root)},r.a.createElement("h2",null,"Welcome To Better Professor App"),r.a.createElement(y.b,{exact:!0,path:"/",component:T}),r.a.createElement(y.b,{path:"/login",component:T}),r.a.createElement(y.b,{path:"/register",component:A}),r.a.createElement(y.b,{path:"/form",component:de}),r.a.createElement(w,{path:"/reminders",component:Q}),r.a.createElement(w,{path:"/students",component:J}))};c.a.render(r.a.createElement(i.a,{store:j},r.a.createElement(l.a,null,r.a.createElement(fe,null))),document.getElementById("root"))},98:function(e,t,a){e.exports=a(138)}},[[98,1,2]]]);
//# sourceMappingURL=main.751d3773.chunk.js.map